---
title: "Единый формат заметок agency-memory"
type: decision
status: active
date: 2026-02-15
author: claude-code
project: agency-wide
tags: [process, architecture, automation]
---

# Единый формат заметок agency-memory

## Контекст

Два AI-агента (Claude Code, Craft Agents) и человек пишут заметки в agency-memory. Без единого формата — метаданные вперемешку с контентом, даты в разных форматах, нет возможности автоматического парсинга.

## Варианты

| Вариант | Плюсы | Минусы |
|---------|-------|--------|
| YAML frontmatter | Машиночитаемый, стандарт индустрии, поддержка в IDE | Требует миграции старых файлов |
| JSON метаданные | Строго типизирован | Неудобен для ручного редактирования |
| Inline метаданные (текущий) | Привычный | Не парсится автоматически, inconsistent |

## Решение

Выбран **YAML frontmatter** — стандарт `NOTE-FORMAT-STANDARD.md` в `templates/`.

Ключевые решения:
- 7 обязательных полей: title, type, status, date, author, + опциональные
- 6 типов заметок: insight, decision, best-practice, playbook, template, export
- 3 автора: claude-code, craft-agents, human
- Именование файлов: `{тип}-{описание}.md`
- Миграция постепенная: при следующем редактировании старого файла

## Последствия

- Оба агента могут парсить метаданные автоматически
- Поиск по типу, автору, тегам, проекту становится возможным
- Старые файлы не ломаются — миграция при редактировании
